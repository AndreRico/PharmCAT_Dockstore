Os arquivos de saída em um ambiente como o Terra/AnVIL serão automaticamente copiados para a pasta de execução do job no Google Cloud (geralmente no bucket associado ao seu workspace no Terra/AnVIL). No entanto, você pode configurar a tarefa para mover ou copiar esses arquivos de saída para outra área de armazenamento no Google Cloud, como outro bucket específico.

### Abordagem:
1. **Delocalização Automática para o Bucket de Trabalho**:
   - Quando o workflow é executado, o sistema de execução (Cromwell) automaticamente copia os arquivos de saída para o bucket padrão associado ao job. Isso acontece sem que você precise especificar um caminho explícito, como mostrado no bloco `output`:
     ```wdl
     output {
       Array[File] preprocessed_vcf_files = glob("vcf_files/*.vcf*")
     }
     ```

2. **Mover ou Copiar Arquivos para Outro Bucket**:
   - Se você deseja mover ou copiar os arquivos para um bucket específico no Google Cloud, você pode adicionar um comando no final do seu script WDL que faz uso da ferramenta `gsutil` para realizar a cópia/movimentação dos arquivos para o destino de sua escolha.

### Exemplo:
Aqui está um exemplo de como você pode mover os arquivos de saída para outro bucket no Google Cloud:

```wdl
task vcf_preprocess_unified {
  ...
  
  command <<<
    set -e -x -o pipefail
    
    # Processamento do VCF
    mkdir -p vcf_files
    if [ "~{is_tsv}" == "true" ]; then
      while read -r url; do
        wget -P vcf_files $url
      done < ~{input_file}
      vcf_list=$(ls vcf_files/*)
    else
      cp ~{input_file} vcf_files/
      vcf_list="vcf_files/$(basename ~{input_file})"
    fi
    
    # Construir e executar o comando do preprocessor
    cmd="python3 /pharmcat/pharmcat_vcf_preprocessor.py -vcf $vcf_list"
    eval $cmd
    
    # Copiar arquivos para um bucket específico do Google Cloud
    gsutil cp vcf_files/* gs://meu-bucket-destino/
  >>>

  output {
    Array[File] output_vcf_files = glob("vcf_files/*.vcf*")
  }

  runtime {
    docker: "pgkb/pharmcat:2.13.0"
    memory: "4G"
    cpu: 4
  }
}
```

### Passos:
- **Substitua `gs://meu-bucket-destino/`** pelo caminho do bucket onde você deseja mover os arquivos.
- **`gsutil cp`** é a ferramenta de linha de comando do Google Cloud para copiar arquivos entre buckets ou dentro de um bucket. Você também pode usar `gsutil mv` se quiser mover os arquivos em vez de copiá-los.

Com isso, os arquivos de saída podem ser movidos ou copiados para outro bucket no Google Cloud após o processamento ser concluído.